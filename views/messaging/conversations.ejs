<%- include('../partials/header.ejs') %>

<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h5 class="mb-0">Your Conversations</h5>
    </div>
    <div class="list-group list-group-flush">
      <% if (conversations.length > 0) { %>
        <% conversations.forEach(conv => { %>
          <a href="/messaging/<%= conv.userId %>" 
             class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
              <h6 class="mb-1 <%= conv.unread ? 'fw-bold' : '' %>"><%= conv.userName %></h6>
              <small class="text-muted"><%= conv.lastMessage %></small>
            </div>
            <div class="text-end">
              <small class="text-muted"><%= new Date(conv.timestamp).toLocaleDateString() %></small>
              <% if (conv.unread) { %>
                <span class="badge bg-primary ms-2">New</span>
              <% } %>
            </div>
          </a>
        <% }) %>
      <% } else { %>
        <div class="list-group-item text-center text-muted">
          No conversations yet
        </div>
      <% } %>
    </div>
  </div>
</div>

<%- include('../partials/footer.ejs') %> 